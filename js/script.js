new Vue({el:'#app',data:{loading:true,date:'',categories:[],selectedCategory:null,searchQuery:'',showNoResultsMessage:false},created(){this.fetchCategories();this.updateDate();setInterval(this.updateDate,1000)},methods:{updateDate(){const now=new Date();const year=now.getFullYear();const month=now.getMonth()+1;const day=now.getDate();const hours=now.getHours();const minutes=now.getMinutes();const seconds=now.getSeconds();const weekDays=['日','一','二','三','四','五','六'];this.date=`${year}年${month.toString().padStart(2,'0')}月${day.toString().padStart(2,'0')}日${hours.toString().padStart(2,'0')}时${minutes.toString().padStart(2,'0')}分${seconds.toString().padStart(2,'0')}秒星期${weekDays[now.getDay()]}`},fetchCategories(){fetch(config.jsonUrl).then(response=>response.json()).then(data=>{this.categories=data;this.selectedCategory=this.categories[0]||null;this.loading=false}).catch(error=>{console.error('Error fetching categories:',error);this.loading=false})},selectCategory(category){this.selectedCategory=category;this.searchQuery='';this.showNoResultsMessage=false},searchLinks(){if(this.searchQuery===''){this.selectedCategory=this.categories[0]||null;this.showNoResultsMessage=false;return}const searchResults=this.categories.flatMap(category=>category.links.filter(link=>link.name.toLowerCase().includes(this.searchQuery.toLowerCase())));if(searchResults.length>0){this.selectedCategory={name:'搜索结果',links:searchResults};this.showNoResultsMessage=false}else{this.selectedCategory=null;this.showNoResultsMessage=true}}}});